{"ast":null,"code":"import React, { forwardRef, useRef, useState } from 'react';\nimport { useComponentDefaultProps, extractSystemStyles, CloseButton, Input } from '@mantine/core';\nimport { useId, useDidUpdate, useMergedRef } from '@mantine/hooks';\nimport useStyles from './TimeRangeInput.styles.js';\nimport { TimeInput } from '../TimeInput/TimeInput.js';\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\n\nvar __objRest = (source, exclude) => {\n  var target = {};\n\n  for (var prop in source) if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0) target[prop] = source[prop];\n\n  if (source != null && __getOwnPropSymbols) for (var prop of __getOwnPropSymbols(source)) {\n    if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop)) target[prop] = source[prop];\n  }\n  return target;\n};\n\nconst RIGHT_SECTION_WIDTH = {\n  xs: 24,\n  sm: 30,\n  md: 34,\n  lg: 40,\n  xl: 44\n};\nconst defaultProps = {\n  size: \"sm\",\n  defaultValue: [null, null],\n  withSeconds: false,\n  clearable: false,\n  format: \"24\",\n  timePlaceholder: \"--\",\n  amPmPlaceholder: \"am\",\n  labelSeparator: \"\\u2013\",\n  disabled: false\n};\nconst TimeRangeInput = forwardRef((props, ref) => {\n  const _a = useComponentDefaultProps(\"TimeRangeInput\", defaultProps, props),\n        {\n    required,\n    label,\n    error,\n    description,\n    className,\n    style,\n    size,\n    wrapperProps,\n    classNames,\n    styles,\n    id,\n    value,\n    defaultValue,\n    onChange,\n    withSeconds,\n    clearable,\n    clearButtonLabel,\n    format,\n    name,\n    hoursLabel,\n    minutesLabel,\n    secondsLabel,\n    amPmLabel,\n    timePlaceholder,\n    amPmPlaceholder,\n    labelSeparator,\n    disabled,\n    sx,\n    labelProps,\n    descriptionProps,\n    errorProps,\n    unstyled,\n    withAsterisk\n  } = _a,\n        others = __objRest(_a, [\"required\", \"label\", \"error\", \"description\", \"className\", \"style\", \"size\", \"wrapperProps\", \"classNames\", \"styles\", \"id\", \"value\", \"defaultValue\", \"onChange\", \"withSeconds\", \"clearable\", \"clearButtonLabel\", \"format\", \"name\", \"hoursLabel\", \"minutesLabel\", \"secondsLabel\", \"amPmLabel\", \"timePlaceholder\", \"amPmPlaceholder\", \"labelSeparator\", \"disabled\", \"sx\", \"labelProps\", \"descriptionProps\", \"errorProps\", \"unstyled\", \"withAsterisk\"]);\n\n  const {\n    classes,\n    cx,\n    theme\n  } = useStyles({\n    size\n  }, {\n    classNames,\n    styles,\n    unstyled,\n    name: \"TimeRangeInput\"\n  });\n  const {\n    systemStyles,\n    rest\n  } = extractSystemStyles(others);\n  const uuid = useId(id);\n  const fromTimeRef = useRef();\n  const toTimeRef = useRef();\n  const [_value, setValue] = useState(value != null ? value : defaultValue);\n  useDidUpdate(() => {\n    typeof onChange === \"function\" && onChange(_value);\n  }, [_value]);\n  useDidUpdate(() => {\n    var _a2, _b, _c, _d;\n\n    if (((_a2 = value[0]) == null ? void 0 : _a2.getTime()) !== ((_b = _value[0]) == null ? void 0 : _b.getTime()) || ((_c = value[1]) == null ? void 0 : _c.getTime()) !== ((_d = _value[1]) == null ? void 0 : _d.getTime())) {\n      setValue(value);\n    }\n  }, [value]);\n\n  const handleClear = () => {\n    var _a2;\n\n    setValue([null, null]);\n    (_a2 = fromTimeRef.current) == null ? void 0 : _a2.focus();\n  };\n\n  const rightSection = clearable && _value.filter(item => Boolean(item)).length > 0 ? /* @__PURE__ */React.createElement(CloseButton, {\n    variant: \"transparent\",\n    \"aria-label\": clearButtonLabel,\n    onClick: handleClear,\n    size,\n    unstyled\n  }) : null;\n  const forwardProps = {\n    amPmLabel,\n    amPmPlaceholder,\n    disabled,\n    format,\n    hoursLabel,\n    minutesLabel,\n    secondsLabel,\n    size,\n    timePlaceholder,\n    withSeconds\n  };\n  return /* @__PURE__ */React.createElement(Input.Wrapper, __spreadValues(__spreadValues({\n    required,\n    label,\n    error,\n    description,\n    className,\n    style,\n    classNames,\n    styles,\n    size,\n    __staticSelector: \"TimeRangeInput\",\n    id: uuid,\n    sx,\n    errorProps,\n    descriptionProps,\n    labelProps,\n    unstyled,\n    withAsterisk\n  }, systemStyles), wrapperProps), /* @__PURE__ */React.createElement(Input, __spreadValues({\n    component: \"div\",\n    __staticSelector: \"TimeRangeInput\",\n    required,\n    invalid: !!error,\n    onClick: () => {\n      var _a2;\n\n      (_a2 = fromTimeRef.current) == null ? void 0 : _a2.focus();\n    },\n    size,\n    className: cx({\n      [classes.disabled]: disabled\n    }),\n    classNames,\n    styles,\n    disabled,\n    rightSection,\n    rightSectionWidth: theme.fn.size({\n      size,\n      sizes: RIGHT_SECTION_WIDTH\n    }),\n    unstyled\n  }, rest), /* @__PURE__ */React.createElement(\"div\", {\n    className: classes.inputWrapper\n  }, /* @__PURE__ */React.createElement(TimeInput, __spreadValues({\n    ref: useMergedRef(fromTimeRef, ref),\n    variant: \"unstyled\",\n    value: _value[0],\n    onChange: date => setValue([date, _value[1]]),\n    name,\n    nextRef: toTimeRef,\n    id: uuid,\n    unstyled\n  }, forwardProps)), /* @__PURE__ */React.createElement(\"span\", {\n    className: classes.separator,\n    style: {\n      color: theme.colorScheme === \"dark\" ? theme.colors.dark[2] : theme.colors.gray[7]\n    }\n  }, labelSeparator), /* @__PURE__ */React.createElement(TimeInput, __spreadValues({\n    ref: toTimeRef,\n    variant: \"unstyled\",\n    value: _value[1],\n    onChange: date => setValue([_value[0], date]),\n    unstyled\n  }, forwardProps)))));\n});\nTimeRangeInput.displayName = \"@mantine/dates/TimeRangeInput\";\nexport { TimeRangeInput };","map":{"version":3,"mappings":"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","names":["__defProp","Object","defineProperty","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","value","enumerable","configurable","writable","__spreadValues","a","b","prop","call","__objRest","source","exclude","target","indexOf","RIGHT_SECTION_WIDTH","xs","sm","md","lg","xl","defaultProps","size","defaultValue","withSeconds","clearable","format","timePlaceholder","amPmPlaceholder","labelSeparator","disabled","TimeRangeInput","forwardRef","props","ref","_a","useComponentDefaultProps","required","label","error","description","className","style","wrapperProps","classNames","styles","id","onChange","clearButtonLabel","name","hoursLabel","minutesLabel","secondsLabel","amPmLabel","sx","labelProps","descriptionProps","errorProps","unstyled","withAsterisk","others","classes","cx","theme","useStyles","systemStyles","rest","extractSystemStyles","uuid","useId","fromTimeRef","useRef","toTimeRef","_value","setValue","useState","useDidUpdate","_a2","_b","_c","_d","getTime","handleClear","current","focus","rightSection","filter","item","Boolean","length","React","createElement","CloseButton","variant","onClick","forwardProps","Input","Wrapper","__staticSelector","component","invalid","rightSectionWidth","fn","sizes","inputWrapper","TimeInput","useMergedRef","date","nextRef","separator","color","colorScheme","colors","dark","gray","displayName"],"sources":["../../../src/components/TimeRangeInput/TimeRangeInput.tsx"],"sourcesContent":["import React, { useState, useRef, forwardRef } from 'react';\nimport {\n  InputSharedProps,\n  InputWrapperBaseProps,\n  InputStylesNames,\n  InputWrapperStylesNames,\n  DefaultProps,\n  Input,\n  MantineSize,\n  Selectors,\n  CloseButton,\n  extractSystemStyles,\n  useComponentDefaultProps,\n} from '@mantine/core';\nimport { useDidUpdate, useMergedRef, useId } from '@mantine/hooks';\nimport useStyles from './TimeRangeInput.styles';\nimport { TimeInput } from '../TimeInput';\n\nexport type TimeRangeInputStylesNames =\n  | Exclude<Selectors<typeof useStyles>, 'disabled'>\n  | InputStylesNames\n  | InputWrapperStylesNames;\n\nexport interface TimeRangeInputProps\n  extends DefaultProps<TimeRangeInputStylesNames>,\n    InputSharedProps,\n    InputWrapperBaseProps,\n    Omit<React.ComponentPropsWithoutRef<'div'>, 'onChange' | 'value' | 'defaultValue'> {\n  /** Input size */\n  size?: MantineSize;\n\n  /** Controlled input value */\n  value?: [Date | null, Date | null];\n\n  /** Uncontrolled input default value */\n  defaultValue?: [Date | null, Date | null];\n\n  /** Controlled input onChange handler */\n  onChange?(value: [Date, Date]): void;\n\n  /** Display seconds input */\n  withSeconds?: boolean;\n\n  /** Allow to clear item */\n  clearable?: boolean;\n\n  /** aria-label for clear button */\n  clearButtonLabel?: string;\n\n  /** The time format */\n  format?: '12' | '24';\n\n  /** Uncontrolled input name */\n  name?: string;\n\n  /** aria-label for hours input */\n  hoursLabel?: string;\n\n  /** aria-label for minutes input */\n  minutesLabel?: string;\n\n  /** aria-label for seconds input */\n  secondsLabel?: string;\n\n  /** aria-label for am/pm input */\n  amPmLabel?: string;\n\n  /** placeholder for time input */\n  timePlaceholder?: string;\n\n  /** placeholder for am/pm input */\n  amPmPlaceholder?: string;\n\n  /** Disable field */\n  disabled?: boolean;\n\n  /** Separator between time inputs */\n  labelSeparator?: string;\n}\n\nconst RIGHT_SECTION_WIDTH = {\n  xs: 24,\n  sm: 30,\n  md: 34,\n  lg: 40,\n  xl: 44,\n};\n\nconst defaultProps: Partial<TimeRangeInputProps> = {\n  size: 'sm',\n  defaultValue: [null, null],\n  withSeconds: false,\n  clearable: false,\n  format: '24',\n  timePlaceholder: '--',\n  amPmPlaceholder: 'am',\n  labelSeparator: '–',\n  disabled: false,\n};\n\nexport const TimeRangeInput = forwardRef<HTMLInputElement, TimeRangeInputProps>(\n  (props: TimeRangeInputProps, ref) => {\n    const {\n      required,\n      label,\n      error,\n      description,\n      className,\n      style,\n      size,\n      wrapperProps,\n      classNames,\n      styles,\n      id,\n      value,\n      defaultValue,\n      onChange,\n      withSeconds,\n      clearable,\n      clearButtonLabel,\n      format,\n      name,\n      hoursLabel,\n      minutesLabel,\n      secondsLabel,\n      amPmLabel,\n      timePlaceholder,\n      amPmPlaceholder,\n      labelSeparator,\n      disabled,\n      sx,\n      labelProps,\n      descriptionProps,\n      errorProps,\n      unstyled,\n      withAsterisk,\n      ...others\n    } = useComponentDefaultProps('TimeRangeInput', defaultProps, props);\n\n    const { classes, cx, theme } = useStyles(\n      { size },\n      { classNames, styles, unstyled, name: 'TimeRangeInput' }\n    );\n\n    const { systemStyles, rest } = extractSystemStyles(others);\n    const uuid = useId(id);\n\n    const fromTimeRef = useRef<HTMLInputElement>();\n    const toTimeRef = useRef<HTMLInputElement>();\n    const [_value, setValue] = useState<[Date, Date]>(value ?? defaultValue);\n\n    useDidUpdate(() => {\n      typeof onChange === 'function' && onChange(_value);\n    }, [_value]);\n\n    // Allow controlled value prop to override internal _value\n    useDidUpdate(() => {\n      if (\n        value[0]?.getTime() !== _value[0]?.getTime() ||\n        value[1]?.getTime() !== _value[1]?.getTime()\n      ) {\n        setValue(value);\n      }\n    }, [value]);\n\n    const handleClear = () => {\n      setValue([null, null]);\n      fromTimeRef.current?.focus();\n    };\n\n    const rightSection =\n      clearable && _value.filter((item) => Boolean(item)).length > 0 ? (\n        <CloseButton\n          variant=\"transparent\"\n          aria-label={clearButtonLabel}\n          onClick={handleClear}\n          size={size}\n          unstyled={unstyled}\n        />\n      ) : null;\n\n    const forwardProps = {\n      amPmLabel,\n      amPmPlaceholder,\n      disabled,\n      format,\n      hoursLabel,\n      minutesLabel,\n      secondsLabel,\n      size,\n      timePlaceholder,\n      withSeconds,\n    };\n\n    return (\n      <Input.Wrapper\n        required={required}\n        label={label}\n        error={error}\n        description={description}\n        className={className}\n        style={style}\n        classNames={classNames}\n        styles={styles}\n        size={size}\n        __staticSelector=\"TimeRangeInput\"\n        id={uuid}\n        sx={sx}\n        errorProps={errorProps}\n        descriptionProps={descriptionProps}\n        labelProps={labelProps}\n        unstyled={unstyled}\n        withAsterisk={withAsterisk}\n        {...systemStyles}\n        {...wrapperProps}\n      >\n        <Input\n          component=\"div\"\n          __staticSelector=\"TimeRangeInput\"\n          required={required}\n          invalid={!!error}\n          onClick={() => {\n            fromTimeRef.current?.focus();\n          }}\n          size={size}\n          className={cx({ [classes.disabled]: disabled })}\n          classNames={classNames}\n          styles={styles}\n          disabled={disabled}\n          rightSection={rightSection}\n          rightSectionWidth={theme.fn.size({ size, sizes: RIGHT_SECTION_WIDTH })}\n          unstyled={unstyled}\n          {...rest}\n        >\n          <div className={classes.inputWrapper}>\n            <TimeInput\n              ref={useMergedRef(fromTimeRef, ref)}\n              variant=\"unstyled\"\n              value={_value[0]}\n              onChange={(date) => setValue([date, _value[1]])}\n              name={name}\n              nextRef={toTimeRef}\n              id={uuid}\n              unstyled={unstyled}\n              {...forwardProps}\n            />\n\n            <span\n              className={classes.separator}\n              style={{\n                color: theme.colorScheme === 'dark' ? theme.colors.dark[2] : theme.colors.gray[7],\n              }}\n            >\n              {labelSeparator}\n            </span>\n\n            <TimeInput\n              ref={toTimeRef}\n              variant=\"unstyled\"\n              value={_value[1]}\n              onChange={(date) => setValue([_value[0], date])}\n              unstyled={unstyled}\n              {...forwardProps}\n            />\n          </div>\n        </Input>\n      </Input.Wrapper>\n    );\n  }\n);\n\nTimeRangeInput.displayName = '@mantine/dates/TimeRangeInput';\n"]},"metadata":{},"sourceType":"module"}